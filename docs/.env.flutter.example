# Пример конфигурации для Flutter приложения
# Скопируйте в .env и настройте под ваши нужды

# ============================================
# Cabinet API Configuration (для Flutter)
# ============================================

# Включить Cabinet API для Flutter/веб приложений
CABINET_ENABLED=true

# JWT секретный ключ для токенов (минимум 32 символа)
# ВАЖНО: Используйте уникальный секретный ключ в production!
CABINET_JWT_SECRET=your-super-secret-jwt-key-min-32-chars-here

# Время жизни access токена (минуты)
CABINET_ACCESS_TOKEN_EXPIRE_MINUTES=15

# Время жизни refresh токена (дни)
CABINET_REFRESH_TOKEN_EXPIRE_DAYS=7

# CORS: Разрешенные origins для Flutter приложения
# Формат: через запятую без пробелов
# Для Flutter Deep Links используйте custom схему (например myapp://)
# Для веб версии добавьте домен
CABINET_ALLOWED_ORIGINS=myapp://,https://yourdomain.com,https://app.yourdomain.com

# ============================================
# Email Verification (опционально)
# ============================================

# Включить верификацию email при регистрации
CABINET_EMAIL_VERIFICATION_ENABLED=false

# Время жизни токена верификации email (часы)
CABINET_EMAIL_VERIFICATION_EXPIRE_HOURS=24

# Время жизни токена сброса пароля (часы)
CABINET_PASSWORD_RESET_EXPIRE_HOURS=1

# ============================================
# SMTP Configuration (для email уведомлений)
# Требуется если CABINET_EMAIL_VERIFICATION_ENABLED=true
# ============================================

# SMTP сервер
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587

# SMTP аутентификация
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password

# Отправитель
SMTP_FROM_EMAIL=noreply@yourdomain.com
SMTP_FROM_NAME=VPN Service

# Использовать TLS
SMTP_USE_TLS=true

# ============================================
# Payment Methods - YooKassa
# ============================================

# YooKassa Shop ID и Secret Key
YOOKASSA_SHOP_ID=your_shop_id
YOOKASSA_SECRET_KEY=your_secret_key

# Включить YooKassa СБП (Система Быстрых Платежей)
YOOKASSA_SBP_ENABLED=true

# Включить YooKassa карты
YOOKASSA_CARD_ENABLED=true

# Минимальная сумма пополнения (рубли)
YOOKASSA_MIN_AMOUNT=100

# Webhook URL для YooKassa
# Будет автоматически: https://your-domain.com/yookassa-webhook
YOOKASSA_WEBHOOK_PATH=/yookassa-webhook

# ============================================
# Payment Methods - Telegram Stars
# ============================================

# Включить оплату Telegram Stars
TELEGRAM_STARS_ENABLED=true

# Минимальная сумма (рубли)
TELEGRAM_STARS_MIN_AMOUNT=50

# Максимальная сумма (рубли)
TELEGRAM_STARS_MAX_AMOUNT=2500

# Курс конвертации: 1 RUB = X Stars
# Обычно 1 RUB = 2 Stars
TELEGRAM_STARS_RATE=2

# ============================================
# Payment Methods - CryptoBot
# ============================================

CRYPTOBOT_ENABLED=false
CRYPTOBOT_TOKEN=your_cryptobot_token
CRYPTOBOT_MIN_AMOUNT=100

# ============================================
# Payment Methods - Tribute
# ============================================

TRIBUTE_ENABLED=false
TRIBUTE_API_KEY=your_tribute_api_key
TRIBUTE_MIN_AMOUNT=100

# ============================================
# Database Configuration
# ============================================

# PostgreSQL connection string
DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/vpn_db

# ============================================
# Redis Configuration (для кэширования)
# ============================================

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# ============================================
# RemnaWave API Configuration
# ============================================

# RemnaWave panel URL
REMNAWAVE_PANEL_URL=https://your-panel-domain.com

# API ключ или authentication метод
REMNAWAVE_API_KEY=your_api_key

# Basic Auth (если используется)
# REMNAWAVE_BASIC_AUTH_USER=admin
# REMNAWAVE_BASIC_AUTH_PASSWORD=password

# ============================================
# Server Configuration
# ============================================

# Хост и порт для API сервера
API_HOST=0.0.0.0
API_PORT=8000

# Публичный URL вашего API
PUBLIC_URL=https://your-domain.com

# ============================================
# Telegram Bot Configuration
# (сохраняется для совместимости с ботом)
# ============================================

BOT_TOKEN=your_bot_token_here

# ============================================
# Trial Configuration
# ============================================

# Количество дней триала
TRIAL_DAYS=3

# Количество GB для триала
TRIAL_GB=5

# Максимальное количество устройств для триала
TRIAL_MAX_DEVICES=2

# Требовать подписку на канал для триала
TRIAL_REQUIRE_CHANNEL_SUBSCRIPTION=true
TRIAL_CHANNEL_USERNAME=your_channel

# ============================================
# Referral System Configuration
# ============================================

# Процент от платежей рефералов
REFERRAL_PERCENT=10

# Минимальная сумма для вывода (рубли)
REFERRAL_MIN_WITHDRAWAL=500

# ============================================
# Logging Configuration
# ============================================

# Уровень логирования: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Путь к файлу логов
LOG_FILE=logs/bot.log

# Включить ротацию логов
LOG_ROTATION_ENABLED=true

# Максимальный размер файла лога (MB)
LOG_MAX_SIZE_MB=10

# Количество backup файлов
LOG_BACKUP_COUNT=5

# ============================================
# Security Configuration
# ============================================

# Secret key для сессий (минимум 32 символа)
SECRET_KEY=your-secret-key-for-sessions-min-32-chars

# Включить HTTPS redirect
FORCE_HTTPS=true

# Разрешить только безопасные cookies
SECURE_COOKIES=true

# ============================================
# Feature Flags
# ============================================

# Включить реферальную систему
REFERRAL_ENABLED=true

# Включить промокоды
PROMOCODES_ENABLED=true

# Включить тикеты поддержки
SUPPORT_TICKETS_ENABLED=true

# Включить уведомления
NOTIFICATIONS_ENABLED=true

# Включить автопродление подписок
AUTOPAY_ENABLED=true

# ============================================
# Rate Limiting
# ============================================

# Максимальное количество запросов в минуту
RATE_LIMIT_PER_MINUTE=60

# Rate limit для auth endpoints
AUTH_RATE_LIMIT_PER_MINUTE=5

# Rate limit для payment endpoints
PAYMENT_RATE_LIMIT_PER_MINUTE=10

# ============================================
# File Upload Configuration
# ============================================

# Директория для загрузки медиа файлов
MEDIA_DIR=media

# Максимальный размер файла (MB)
MAX_UPLOAD_SIZE_MB=10

# Разрешенные типы файлов
ALLOWED_EXTENSIONS=jpg,jpeg,png,gif,pdf

# ============================================
# Backup Configuration
# ============================================

# Включить автоматические бэкапы
BACKUP_ENABLED=true

# Директория для бэкапов
BACKUP_DIR=backups

# Расписание бэкапов (cron формат)
# Например: "0 2 * * *" - каждый день в 2:00
BACKUP_SCHEDULE=0 2 * * *

# Количество хранимых бэкапов
BACKUP_RETENTION_DAYS=7

# ============================================
# Monitoring & Health Checks
# ============================================

# Включить health check endpoint
HEALTH_CHECK_ENABLED=true

# Endpoint для health check
HEALTH_CHECK_PATH=/health

# Включить метрики Prometheus
PROMETHEUS_ENABLED=false
PROMETHEUS_PORT=9090

# ============================================
# Development & Debug
# ============================================

# Режим отладки (не использовать в production!)
DEBUG=false

# Автоматическая перезагрузка при изменении кода
AUTO_RELOAD=false

# Показывать подробные ошибки
VERBOSE_ERRORS=false

# ============================================
# Локализация
# ============================================

# Язык по умолчанию
DEFAULT_LANGUAGE=ru

# Доступные языки
AVAILABLE_LANGUAGES=ru,en

# Часовой пояс
TIMEZONE=Europe/Moscow

# ============================================
# Flutter App Specific
# ============================================

# Минимальная версия приложения
MIN_APP_VERSION=1.0.0

# Force update при устаревшей версии
FORCE_UPDATE_ENABLED=false

# URL для скачивания обновлений
APP_UPDATE_URL_ANDROID=https://play.google.com/store/apps/details?id=com.yourdomain.vpn
APP_UPDATE_URL_IOS=https://apps.apple.com/app/idXXXXXXXXX

# Включить аналитику
ANALYTICS_ENABLED=false

# ============================================
# WebSocket Configuration
# ============================================

# Включить WebSocket для real-time уведомлений
WEBSOCKET_ENABLED=true

# WebSocket endpoint
WEBSOCKET_PATH=/ws

# Heartbeat interval (секунды)
WEBSOCKET_HEARTBEAT_INTERVAL=30

# ============================================
# OAuth Providers (опционально)
# ============================================

# Google OAuth
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# Apple Sign In
APPLE_CLIENT_ID=
APPLE_CLIENT_SECRET=

# ============================================
# Content Delivery
# ============================================

# CDN URL для статических файлов
CDN_URL=

# Кэширование статики (секунды)
STATIC_CACHE_MAX_AGE=86400

# ============================================
# Примечания
# ============================================

# 1. Все переменные с паролями и ключами должны быть уникальными в production
# 2. Не коммитьте .env файл в git (добавьте в .gitignore)
# 3. Используйте secrets management для production (например, Docker secrets, Kubernetes secrets)
# 4. Регулярно обновляйте секретные ключи
# 5. Включите HTTPS и SSL pinning для production
# 6. Настройте мониторинг и алерты для критичных сервисов
# 7. Делайте регулярные бэкапы базы данных
# 8. Тестируйте все изменения на staging окружении перед production
